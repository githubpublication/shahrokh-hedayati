"use strict";function hidePreloader(){jQuery(document).ready((function(e){e(".preloader").delay(1e3).fadeOut(500),setTimeout((function(){e("body.loading").removeClass("loading")}),1e3)}))}window.addEventListener("load",hidePreloader,!1),jQuery(document).ready((function(e){const a=960,i=1200;var s=e(window);"ontouchstart"in window&&e("body").addClass("is-touch");var t=!1;if(s.on("load scroll resize",(function(){s[0].innerWidth>=a?s.scrollTop()>s[0].innerHeight?t?t=!1:(e(".panel").fadeIn(),t=!0):t?t=!1:(e(".panel").fadeOut(),t=!0):t?t=!1:(e(".panel").fadeIn(),t=!0)})),UIkit.scrollspyNav(".js-scrollspy-nav",{closest:"li",scroll:!0,offset:s[0].innerWidth>=a?80:20}),e(".js-offcanvas-nav").on("click","a",(function(){UIkit.offcanvas("#offcanvas-nav").hide()})),e(".js-intro-title").length)for(var o=e(".uk-slideshow-items li").find(".js-intro-title"),l="",n="",d=0;d<o.length;d++){l=o.eq(d).text().split(" ");for(var r=0;r<l.length;r++)n+="<span>"+l[r]+"</span>";o.eq(d).after(n),n=""}var u=null,c=e(".js-audio"),m=e(".albums--list .albums__item"),p=e(".js-panel-play"),v=e(".js-audio-play"),f=e(".js-audio-volume, .js-panel-volume");function _(e){var a=Math.floor(e),i=Math.floor(a/60);return(i=i>=10?i:"0"+i)+":"+(a=(a=Math.floor(a%60))>=10?a:"0"+a)}if(UIkit.util.on(".playlist__wrap .uk-switcher","show",(function(){e("html, body").animate({scrollTop:e(".music").offset().top-(s[0].innerWidth>=a?80:20)},500)})),c.attr("src",e(".js-audio-items .list__item").eq(0).data("audio")),c.mediaelementplayer({startVolume:1,features:[],success:function(a,i,s){u=a;var t=null;e(".list__item--active").data("audio");a.addEventListener("playing",(function(){var i=a.getCurrentTime();i<1?e(".list__item--active .js-audio-time").text(_(i)):e(".list__item--active .js-audio-time").text(_(i+1)),t=setInterval((function(){a.getCurrentTime()>a.duration&&clearInterval(t),e(".list__item--active .js-audio-time").text(_(a.getCurrentTime()+1))}),1e3);var s=e(".list__item--active").parents(".playlist").index();m.removeClass("albums--playing").eq(s).addClass("albums--playing"),setTimeout((function(){m.removeClass("albums--paused"),p.hasClass("icon--play")&&p.removeClass("icon--play").addClass("icon--pause")}),100)}),!0),a.addEventListener("pause",(function(){clearInterval(t),e(".albums--playing").addClass("albums--paused"),p.hasClass("icon--pause")&&p.removeClass("icon--pause").addClass("icon--play")})),a.addEventListener("ended",(function(){var a=e(".list__item--active"),i=a.next();clearInterval(t),a.find(".js-audio-play, .js-panel-play").removeClass("icon--pause").addClass("icon--play"),e(".list__item").removeClass("list__item--active"),m.removeClass("albums--playing"),a.find(".js-audio-time").text(""),0!=i.length&&(u.setSrc(i.data("audio")),u.play(),i.addClass("list__item--active"),i.find(".js-audio-play").removeClass("icon--play").addClass("icon--pause"))}),!0)},error:function(){UIkit.modal.dialog('<p class="uk-modal-body c-dark">Error of audio file</p>')}}),u){function a(a){var i=e(a.target),s=i.hasClass("mejs__horizontal-volume-total")?i:i.hasClass("mejs__horizontal-volume-slider")?i.find(".mejs__horizontal-volume-total"):i.parents(".mejs__horizontal-volume-slider").find(".mejs__horizontal-volume-total"),t=s.width(),o=s.offset(),l=(void 0!==a.pageX?a.pageX-o.left:0)/t;e(".mejs__horizontal-volume-current").css({left:0,width:100*l+"%"}),u.setVolume(l)}p.on("click",(function(a){a.preventDefault();var i=e(this);u.paused?(e(".list__item").hasClass("list__item--active")?e(".list__item--active .js-audio-play").removeClass("icon--play").addClass("icon--pause"):e(".list__item").eq(0).find(".js-audio-play").removeClass("icon--play").addClass("icon--pause"),i.removeClass("icon--play").addClass("icon--pause"),e(".list__item--active .icon--play").removeClass("icon--play").addClass("icon--pause"),u.play(),e(".js-audio-items .list__item").hasClass("list__item--active")||e(".js-audio-items .list__item").eq(0).addClass("list__item--active")):(i.removeClass("icon--pause").addClass("icon--play"),e(".js-audio-play.icon--pause").removeClass("icon--pause").addClass("icon--play"),u.pause())})),v.on("click",(function(a){a.preventDefault();var i=e(this),s=e(".list__item--active"),t=i.parent(".list__item"),o=t.data("audio");e(".list__item").removeClass("list__item--active"),t.addClass("list__item--active"),u.paused?(c.attr("src")!==o&&(s.find(".js-audio-time").text(""),u.setSrc(o)),i.add(p).removeClass("icon--play").addClass("icon--pause"),u.play()):(e(".js-audio-play.icon--pause").add(p).removeClass("icon--pause").addClass("icon--play"),u.pause(),c.attr("src")!==o&&(s.find(".js-audio-time").text(""),u.setSrc(o),i.add(p).removeClass("icon--play").addClass("icon--pause"),u.play(),e(".list__item--active").removeClass("list__item--active"),t.addClass("list__item--active")))})),f.on("mousedown",(function(i){window.panelVolumeSlide=e(this).on("mousemove",{e:event},a)})).on("mouseup",(function(){"undefined"!=typeof panelVolumeSlide&&panelVolumeSlide.off("mousemove")})).on("mouseleave",(function(){"undefined"!=typeof panelVolumeSlide&&panelVolumeSlide.off("mousemove")})).on("click",{e:event},a)}else UIkit.modal.dialog('<p class="uk-modal-body c-dark">Error of audio file</p>');function h(a){a.preventDefault(),e(".modal__video video").remove();var i=e(this).data("video-src"),s=e(this).data("video-type");e(".modal__video").append('<video controls preload="auto"><source src="" type=""></video>'),e(".modal__video source").attr({src:i,type:s}),UIkit.modal("#modal-video").show(),e(".modal__video video").mediaelementplayer({startVolume:1,alwaysShowControls:!0,stretching:"responsive",videoVolume:"horizontal",iconSprite:"../img/icons/play.svg",success:function(e,a,i){u.paused||u.pause(),e.play()},error:function(e,a,i){UIkit.modal.dialog('<p class="uk-modal-body c-dark">Error of video file</p>')}})}UIkit.util.on("#modal-video","hidden",(function(){e("#modal-video .mejs__video").remove()}));var y=3;function C(){function a(a){var i=e(".js-video-slider"),s=i.find(".video__column:not(:first-child)"),t=s.find(".video__placeholder"),o="";t.each((function(e,i){0==e&&(o+='<li class="video__column">'),o+=i.outerHTML,(e+1)%a==0&&(o+='</li><li class="video__column">'),e==t.length&&(o+="</li>")})),s.remove(),i.find(".uk-slider-items").append(o),e(".js-video-target").off("click",h),e(".js-video-target").on("click",h)}s[0].innerWidth<767?1!=y&&(a(1),y=1):s[0].innerWidth>=768&&s[0].innerWidth<i?2!=y&&(a(2),y=2):3!=y&&(a(3),y=3),e(".js-video-target").off("click",h),e(".js-video-target").on("click",h)}function j(){e(".video, .news").each((function(a,i){var t=e(i).find(".uk-slider"),o=e(i).find(".uk-slidenav-next"),l=e(i).find(".uk-slidenav-previous");if(s[0].innerWidth>=1920){var n=(s[0].innerWidth-t.innerWidth())/2;o.css("right",o.width()-n),l.css("left",l.width()-n)}else o.css("right",0),l.css("left",0)}))}C(),s.on("resize",C),j(),s.on("resize",j),e(".js-form").submit((function(){var a,i,s,t,o,l,n,d,r;return a=e(this),s=!1,t="Your message was successfully sent!",o="Can not send message, mail server configutation bug, please try again later",l="Please enter fields and try again",n="Please enter require field(s)",d="Unknown error",r="",(i=a).find('input:not([type="submit"]), textarea').each((function(a,i){var t=e(this);void 0!==t.attr("data-require")&&"true"===t.attr("data-require")&&""===t.val()&&(r=n,t.addClass("js-field-error"),s=!0)})),s||e.post("mail.php",i.serialize(),(function(e){r="success"===e?t:"fail"===e?o:"empty"===e?l:d,i.find(".js-respond").text(r)})).fail((function(e){console.error(e),UIkit.modal.dialog('<p class="uk-modal-body c-dark">'+d+"</p>")})),i.find(".js-respond").text(r),!1})),e(".js-form").find('input:not([type="submit"]), textarea').bind("change paste keyup",(function(){var a=e(this).parents(".js-form").find(".js-respond");e(this).hasClass("js-field-error")&&e(this).removeClass("js-field-error"),""!==a.text()&&a.text("")}))}));